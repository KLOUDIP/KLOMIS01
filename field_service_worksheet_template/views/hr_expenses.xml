<odoo>
    <data>
        <record id="hr_expense_custom" model="ir.ui.view">
            <field name='name'>hr.expense.custom</field>
            <field name="model">hr.expense</field>
            <field name="inherit_id" ref="hr_expense.hr_expense_view_form"/>
            <field name="arch" type="xml">
                <field name='total_amount' position="after">
                    <field name="expense_id_worksheet_line"/>
                    <field name="task_id_rec"/>
                </field>
                <xpath expr="//field[@name='price_unit']" position="attributes">
                    <attribute name="readonly">0</attribute>
                </xpath>
                <!-- Reference field set visible-->
<!--                <xpath expr="//field[@name='reference']" position="replace">-->
<!--                    <field name="reference" attrs="{'readonly': [('is_ref_editable', '=', False)]}"/>-->
<!--                </xpath>-->
                 <!-- Unit price set editable-->
                <xpath expr="//field[@name='price_unit']" position="replace">
                    <field name="price_unit" required="1" widget="monetary" options="{'currency_field': 'currency_id', 'field_digits': True}" invisible="not product_has_cost" readonly="0"/>
                </xpath>
            </field>
        </record>
    </data>
</odoo>
